{% extends 'base.html.twig' %}

{% block body %}
	<div id="todos">
		<h1>Ma Liste de Tâches</h1>
		<ul id="todo-list"></ul>

		<a href="{{ path('get_todos') }}">Réponse au format JSON</a>
	</div>

	<script>
		fetch('/api/todos').then(response => response.json()).then(todos => {
const todoList = document.getElementById('todo-list');
todos.forEach(todo => {
const li = document.createElement('li');
li.textContent = `${
todo.title
} - ${
todo.done ? 'Terminé' : 'En cours'
}`;
todoList.appendChild(li);
});
});
	</script>
{% endblock %}
